{
	"entity": {
		"regions": [
			{
				"name": "events",
				"parse": [ "minecraft:entity/events" ],
				"modules": [
					{
						"define": "$is_path(../add/effects)",
						"foreach_index": false, 
						"vars": {
							"uuid": "$small_uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))",
										"template": {
											"minecraft:spell_effects": {
												"add_effects": "$module"
											}
										}
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../add/group)",
						"foreach_index": false,
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(name)",
										"template": "$module(components)"
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(group_name)"
									}
								]
							}
						]
					}
				]
			},
			{
				"name": "components",
				"parse": [ "minecraft:entity/components", "minecraft:entity/component_groups" ],
				"modules": [
					{
						"define": "$is_path(../solved:health_over_time)",
						"foreach_index": false, 
						"modify": [
							{
								"path": "$module_path",
								"method": "replace",
								"values": [
									{
										"key": "minecraft:damage_over_time",
										"template": {
											"damagePerHurt": "(- + $var(healthPerHeal))",
											"timeBetweenHurt": "$var(timeBetweenHeal)"
										}
									}
								]
							}
						]
					}
				]
			}
		]
	}
}