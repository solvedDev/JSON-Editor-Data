/**
	CUSTOM FUNCTIONS/VARS NEEDED: 
	 - $module: get the found module
	 - $get_dict(path):
	 - $module_path(backSteps): The path of the module | backSteps: how many layers above you want to get (0 = direct path; 1= parent path, ...)
	 - $var(var_name) returns the value of a var or undefined if not defined

	Other stuff: String combining ($var() oder "einfacher string"), "value": array oder object
*/
{
	"modules": [
		{	
			"parse": [ "$get_dict(minecraft:entity/events)" ],
			"define": "$is_path(../events/./add/effects)",

			"modify": [
				{
					"path": "minecraft:entity/component_groups",
					"method": "replace",
					"value": {
						"($var(name) + $var(amplifier) + $var(duration) + $var(visible) + $var(ambient))": {
							"minecraft:spell_effects": {
								"add_effects": "$module"
							}
						}
					}
				},
				{
					"path": "($module_path(1) + "/component_groups")",
					"method": "append",
					"value": [
						"($var(name) + $var(amplifier) + $var(duration) + $var(visible) + $var(ambient))"
					]
				}
			]
		}
	]
}