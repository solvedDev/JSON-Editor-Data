{
	"entity": {
		"regions": [
			{
				"name": "events",
				"parse": [ "minecraft:entity/events" ],
				"modules": [
					{
						"define": "$is_path(../add/effects)",
						"foreach_index": false, 
						"vars": {
							"uuid": "$small_uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))",
										"template": {
											"minecraft:spell_effects": {
												"add_effects": "$module"
											}
										}
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../add/group)",
						"foreach_index": false,
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(name)",
										"template": "$module(components)"
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(name)"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../events/./spawn)",
						"foreach_index": false,
						"vars": {
							"uuid": "$uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(uuid)",
										"template": {
											"minecraft:timer": {
												"looping": false,
												"randomInterval": false,
												"time": 0.0,
												"time_down_event": {
													"event": "(remove_ + $var(uuid))",
													"target": "self"
												}
											},
											"minecraft:spawn_entity": {
												"max_wait_time": 0,
												"min_wait_time": 0,
												"spawn_entity": "$var(entity)",
												"spawn_item": "$var(item)",
												"spawn_sound": ""
											}
										}
									}
								]
							},
							{
								"path": "($module_path(1) + /add/component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(uuid)"
									}
								]
							},
							{
								"path": "minecraft:entity/events",
								"method": "replace",
								"values": [
									{
										"key": "(remove_ + $var(uuid))",
										"template": {
											"remove": {
												"component_groups": [
													"$var(uuid)"
												]
											}
										}
									}
								]
							}
						]
					}
				]
			},
			{
				"name": "components",
				"parse": [ "minecraft:entity/components", "minecraft:entity/component_groups" ],
				"modules": [
					
				]
			}
		]
	}
}