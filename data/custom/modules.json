{
	"entity": {
		"regions": [
			{
				"name": "events",
				"parse": [ "minecraft:entity/events" ],
				"modules": [
					{
						"define": "$is_path(../add/effects)",
						"foreach_index": false, 
						"vars": {
							"uuid": "$small_uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))",
										"template": {
											"minecraft:spell_effects": {
												"add_effects": "$module"
											}
										}
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "($var(0/name) + $var(0/amplifier) + $var(0/duration) + $var(0/visible) + $var(0/ambient) + $var(uuid))"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../add/group)",
						"foreach_index": false,
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(name)",
										"template": "$module(components)"
									}
								]
							},
							{
								"path": "($module_path(1) + /component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(name)"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../events/./spawn/entity)",
						"foreach_index": false,
						"vars": {
							"uuid": "$uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(uuid)",
										"template": {
											"minecraft:timer": {
												"looping": "false",
												"randomInterval": "false",
												"time": "0.0",
												"time_down_event": {
													"event": "(remove_ + $var(uuid))",
													"target": "self"
												}
											},
											"minecraft:spawn_entity": {
												"max_wait_time": "0",
												"min_wait_time": "0",
												"spawn_entity": "$var(value)",
												"spawn_sound": "x"
											}
										}
									}
								]
							},
							{
								"path": "($module_path(2) + /add/component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(uuid)"
									}
								]
							},
							{
								"path": "minecraft:entity/events",
								"method": "replace",
								"values": [
									{
										"key": "(remove_ + $var(uuid))",
										"template": {
											"remove": {
												"component_groups": [
													"$var(uuid)"
												]
											}
										}
									}
								]
							},
							{
								"path": "$module_path(2)",
								"method": "replace",
								"values": [
									{
										"key": "spawn",
										"template": "undefined"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../events/./spawn/item)",
						"foreach_index": false,
						"vars": {
							"uuid": "$uuid"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(uuid)",
										"template": {
											"minecraft:timer": {
												"looping": "false",
												"randomInterval": "false",
												"time": 0.0,
												"time_down_event": {
													"event": "(remove_ + $var(uuid))",
													"target": "self"
												}
											},
											"minecraft:spawn_entity": {
												"max_wait_time": "0",
												"min_wait_time": "0",
												"spawn_item": "$var(value)",
												"spawn_sound": "plop"
											}
										}
									}
								]
							},
							{
								"path": "($module_path(2) + /add/component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(uuid)"
									}
								]
							},
							{
								"path": "minecraft:entity/events",
								"method": "replace",
								"values": [
									{
										"key": "(remove_ + $var(uuid))",
										"template": {
											"remove": {
												"component_groups": [
													"$var(uuid)"
												]
											}
										}
									}
								]
							},
							{
								"path": "$module_path(2)",
								"method": "replace",
								"values": [
									{
										"key": "spawn",
										"template": "undefined"
									}
								]
							}
						]
					},
					{
						"define": "$is_path(../events/./redirect)",
						"foreach_index": false,
						"vars": {
							"uuid": "$uuid",
							"range": "16"
						},
						"modify": [
							{
								"path": "minecraft:entity/component_groups",
								"method": "replace",
								"values": [
									{
										"key": "$var(uuid)",
										"template": {
											"minecraft:behavior.send_event": {
												"priority": "0",
												"event_choices": [
													{
														"min_activation_range": "0.0",
														"max_activation_range": "$var(range)",
														"cooldown_time": "0.1",
														"cast_duration": "0.0",
														"particle_color": "#FFFFFFFF",
														"weight": "3",
														"filters": "$var(filters)",
														"sequence": [
															{
																"base_delay": "0.0",
																"event": "$var(event)"
															}
														]
													}
												]
											},
											"minecraft:timer": {
												"looping": "false",
												"time": "0.1",
												"time_down_event": {
													"event": "(remove_ + $var(uuid))",
													"target": "self"
												}
											}
										}
									}
								]
							},
							{
								"path": "($module_path(2) + /add/component_groups)",
								"method": "append",
								"values": [
									{
										"key": "list",
										"template": "$var(uuid)"
									}
								]
							},
							{
								"path": "minecraft:entity/events",
								"method": "replace",
								"values": [
									{
										"key": "(remove_ + $var(uuid))",
										"template": {
											"remove": {
												"component_groups": [
													"$var(uuid)"
												]
											}
										}
									}
								]
							}
						]
					}
				]
			},
			{
				"name": "components",
				"parse": [ "minecraft:entity/components", "minecraft:entity/component_groups" ],
				"modules": [
					
				]
			}
		]
	}
}